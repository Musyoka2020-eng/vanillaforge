<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <title>VanillaForge - Modern Vanilla JavaScript SPA Framework</title>
    <link rel="stylesheet" href="src/styles/main.css">
    <link rel="stylesheet" href="src/styles/components.css">
    <link rel="stylesheet" href="src/styles/components/sweet-alert.css">
    <style>
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        .loading-spinner {
            animation: spin 1s linear infinite;
            font-size: 2rem;
            margin-right: 10px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div id="app">
        <div id="main-content">
            <div class="loading">
                <div class="loading-spinner">üî•</div>
                <div>Loading VanillaForge...</div>
            </div>
        </div>
    </div>    <script type="module">
        import { createApp } from './src/framework.js';
        import { HomeComponent } from './src/components/home-component-fixed.js';
        import { NotFoundComponent } from './src/components/not-found-component.js';

        async function initializeApp() {
            try {
                // Initialize the VanillaForge application
                const app = createApp({
                    appName: 'VanillaForge Demo',
                    debug: true,
                    router: {
                        mode: 'history',
                        fallback: '/404'
                    }
                });

                // Initialize with routes and components
                await app.initialize({
                    routes: {
                        '/': HomeComponent,
                        '/home': HomeComponent,
                        '/404': NotFoundComponent
                    },
                    components: {
                        'home-component': HomeComponent,
                        'not-found-component': NotFoundComponent
                    }
                });                // Start the application
                await app.start();

                // Development mode logging (only shown when debugging)
                if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
                    console.log('üî• VanillaForge application started!');
                    console.log('üìñ Framework instance available at window.app');
                    console.log('üîç Debug tools available at window.VanillaForgeDebug');
                    console.log('üìù Try the todo app example at examples/todo-app/index.html');
                }

                // Expose app instance for debugging
                window.app = app;

            } catch (error) {
                console.error('Failed to initialize VanillaForge app:', error);
                document.getElementById('main-content').innerHTML = `
                    <div style="padding: 40px; text-align: center; color: #dc3545;">
                        <h2>‚ùå Failed to Load</h2>
                        <p>Error: ${error.message}</p>
                        <p style="margin-top: 20px;">
                            <button onclick="location.reload()" style="padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer;">
                                Retry
                            </button>
                        </p>
                    </div>
                `;
            }
        }

        // Initialize when DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializeApp);
        } else {
            initializeApp();
        }
    </script>
</body>
</html>
